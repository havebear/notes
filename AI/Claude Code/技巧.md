下面给你一份「2025 版 Claude Code 终极速通指南」：  
从 **第一次启动 → 高级技巧 → 常见坑** 三步打包，复制即可用。

---

## 🚀 1. 第一次启动（1 分钟）


```bash
# 全局安装
npm i -g @anthropic-ai/claude-code

# 进入项目
cd my-flutter-app
claude
```

首次会弹 3 个询问，全部**无脑连按 2**（允许整目录、整会话）即可：

复制

```
Do you want to proceed?               > 2 ↵  
accept edits on ...                   > 2 ↵  
plan mode on ...                      > Shift+Tab 切到 Auto Edit 再 2 ↵
```

---

## 🛠 2. 日常 10 条高频指令

表格

复制

| 目的               | 命令 / 快捷键                                |
| :--------------- | :-------------------------------------- |
| **直接开干**（跳过全部确认） | `claude --dangerously-skip-permissions` |
| **切换三种模式**       | `Shift+Tab` 循环：Plan ↔ Auto Edit ↔ Chat  |
| **回到上一步提示**      | 连按两次 `Esc` → 选历史消息重新来过                  |
| **让 AI 先列计划再动手** | `/plan 实现登录模块`                          |
| **只看不动手**        | `/explain lib/main.dart`                |
| **批量重命名符号**      | `/refactor rename MyHome → HomePage`    |
| **一次性测完全部**      | `!flutter test` （感叹号=直接跑 shell）         |
| **把某文件塞给 AI**    | `@lib/api.dart 优化网络层`                   |
| **压缩历史省 token**  | `/compact`                              |
| **生成项目记忆**       | `/init` → 自动生成 `CLAUDE.md`              |

---

## 📂 3. 文件 & 上下文技巧

1. **精准投喂**
    
    复制
    
    ```
    @lib/models/user.dart + @lib/services/auth.dart
    把这两个文件的登录逻辑合并成一个类
    ```
    
2. **Glob 批量**
    
    复制
    
    ```
    /search **/*_test.dart
    给所有测试文件加上 setUpAll 日志
    ```
    
3. **魔法词提升思考深度**
    
    `ultrathink 优化首页渲染性能`
    
    （效果：think < think hard < ultrathink，越往后越烧 token
    
    ）
    

---

## 🔄 4. 工作流示例（Flutter 场景）

bash

复制

```bash
# 1. 让 AI 先理解项目
/init

# 2. 描述需求
/plan 添加下拉刷新 + 上拉加载更多的列表组件

# 3. 自动实现 & 运行测试
!flutter test integration/home_test.dart

# 4. 发现测试不过，让 AI 修
@test failed, please fix lib/ui/home_list.dart
```

---

## ⚠️ 5. 常见坑 & 对策

表格

复制

|坑|解决|
|:--|:--|
|每次都要 `Yes/No`|启动加 `--dangerously-skip-permissions` 或项目根放 `.claude.json` 写 `"autoApplyPlan": true`|
|token 烧太快|`/compact` 压缩历史 + 关掉不必要的文件上下文|
|国内连不上官方|用社区路由： `npm i -g @musistudio/claude-code-router` 再 `ccr code --model deepseek-v3.1`|
|误改敏感文件|在 `.claude.json` 里列黑名单 `"permissions": { "deny": ["keys/**", ".env"] }`|

---

## 🧩 6. 一键模板（`.claude.json` 放项目根）

JSON

复制

```json
{
  "autoApplyPlan": true,
  "permissions": {
    "read": ["lib/", "test/", "pubspec.yaml"],
    "write": ["lib/", "test/"],
    "deny": ["android/", "ios/", ".env"]
  }
}
```

放好后，整个团队 `claude` 即开即用，零弹窗。

---

把上面 6 步抄完，你就从「小白」直接变「老司机」了。  
遇到具体场景不会写 prompt，再来问我！