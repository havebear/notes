`git rebase`（变基）的核心含义是：**把你的分支“搬家”**，让它看起来像是**从最新的 master 上直接长出来的**，而不是从旧的 master 上分叉出来。

---
### 📌 举个生活中的例子

想象你在写一篇文章：

- **原始场景**（merge）  
    你写了 3 段（feature-branch），然后同事更新了文章的前言（master）。  
    你把同事的前言直接贴在文章前面，然后保留你自己的 3 段，文章历史看起来有两条“平行线”合并的痕迹。
- **rebase 场景**  
    你把同事的最新前言**先拿过来**，然后**把你的 3 段重新粘到最新前言后面**。  
    文章历史看起来就像你一开始就是基于最新前言写的，非常线性。

---

### 🔍 Git 层面的解释

#### 原始分叉

```bash
master:   A---B---C
               \
feature:        D---E---F
```

#### 执行 `git rebase master` 后

```bash
master:   A---B---C
                    \
feature (rebased):   D'--E'--F'
```

- 提交 D、E、F 被“重写”成 D'、E'、F'（新的 commit ID）。
- 历史变成一条直线，没有分叉。
    

---

### ⚖️ rebase vs merge 对比

|特性|merge|rebase|
|:--|:--|:--|
|历史形状|分叉 + 合并点（非线性）|一条直线（线性）|
|commit ID|不变|重写（commit ID 改变）|
|冲突处理|一次合并冲突|每提交一次冲突（可能多次）|
|多人协作风险|低|高（已推送的分支需强制推送）|
|命令示例|`git merge master`|`git rebase master`|

---

### ✅ 何时用 rebase？

- **个人分支**、尚未推送或团队允许强制推送时：让历史更整洁。
- **准备合并到 master 前**：先 rebase 再发起 Pull Request，减少无意义的合并提交。

### ❌ 何时避免 rebase？

- **公共分支**（如 master、shared feature）：会重写历史，导致他人混乱。
- **多人共用**的分支：一旦有人基于旧历史开发，强制推送会出问题。

---

### 🧪 一句话总结

> **rebase = 把你的改动“剪切”下来，重新“粘贴”到最新 master 的末端，让历史看起来像一条直线。**