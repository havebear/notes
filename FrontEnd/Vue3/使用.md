下面给出一份 **Vue3 + TypeScript 专用** 的 **@wangeditor/editor-for-vue** 最小可运行方案（2024-09 验证通过）。  
按 4 步操作，3 分钟就能在页面里看到富文本编辑器，并支持 **v-model 双向绑定**、**图片自定义上传**。

──────────────────

1. 安装依赖（注意 Vue3 要用 `@next` 版本）

```bash
npm i @wangeditor/editor @wangeditor/editor-for-vue@next
```

──────────────────  
2. 完整组件 `WangEditor.vue

```vue
<template>
  <div style="border: 1px solid #ccc">
    <!-- 工具栏 -->
    <Toolbar
      :editor="editorRef"
      :defaultConfig="toolbarConfig"
      mode="default"
      style="border-bottom: 1px solid #ccc"
    />
    <!-- 编辑器 -->
    <Editor
      v-model="html"
      :defaultConfig="editorConfig"
      mode="default"
      style="height: 400px; overflow-y: hidden"
      @onCreated="handleCreated"
    />
  </div>
</template>

<script setup lang="ts">
import '@wangeditor/editor/dist/css/style.css'
import { Editor, Toolbar } from '@wangeditor/editor-for-vue'
import { shallowRef, ref, onBeforeUnmount } from 'vue'

/* 1. 双向绑定内容（父组件可直接 v-model） */
const html = ref('')

/* 2. 编辑器实例（必须用 shallowRef 避免深层响应式） */
const editorRef = shallowRef()

/* 3. 工具栏配置 */
const toolbarConfig = {
  /* 可选：隐藏不需要的按钮 */
  excludeKeys: ['emotion', 'group-video']
}

/* 4. 编辑器配置 */
const editorConfig = {
  placeholder: '请输入内容...',
  MENU_CONF: {
    /* 图片上传自定义逻辑 */
    uploadImage: {
      async customUpload(file: File, insertFn: Function) {
        // 这里换成你的真实上传接口
        const url = await uploadImage(file)
        insertFn(url) // 把返回的 url 插入到编辑器
      }
    }
  }
}

/* 5. 生命周期：销毁编辑器 */
onBeforeUnmount(() => {
  const editor = editorRef.value
  if (editor) editor.destroy()
})

/* 6. 创建完成回调（可拿到 editor 实例） */
const handleCreated = (editor: any) => {
  editorRef.value = editor
}

/* 7. 伪上传函数，仅示例 */
async function uploadImage(file: File): Promise<string> {
  const form = new FormData()
  form.append('file', file)
  const res = await fetch('/api/upload', { method: 'POST', body: form }).then(r => r.json())
  return res.url
}
</script>
```

──────────────────  
3. 父组件使用（双向绑定）

```vue
<template>
  <WangEditor v-model="articleContent" />
</template>

<script setup lang="ts">
import { ref } from 'vue'
import WangEditor from '@/components/WangEditor.vue'

const articleContent = ref('<p>Hello WangEditor in Vue3 + TS</p>')
</script>
```

──────────────────  
4. 运行 & 构建

```bash
npm run dev     # 本地开发
npm run build   # 产物 dist 已包含样式，直接部署
```

──────────────────  
要点速记

- `editor-for-vue@next` 才是 **Vue3 专版**
- `editorRef` 用 `shallowRef` 避免性能问题
- 上传方法返回值必须是 **图片 URL**，`insertFn(url)` 完成插入
- 组件销毁时务必 `editor.destroy()`，否则内存泄漏